{"version":3,"sources":["../../../.srctemp/modules/paging/paging.component.ts"],"names":[],"mappings":"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","file":"paging.component.js","sourceRoot":"","sourcesContent":["import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  ChangeDetectionStrategy,\n  OnChanges,\n  SimpleChanges\n} from '@angular/core';\n\n\nexport class SkyPagingComponent implements OnChanges {\n  \n  public pageSize: number = 10;\n\n  \n  public maxPages: number = 5;\n\n  \n  public currentPage: number = 1;\n\n  \n  public itemCount: number = 0;\n\n  \n  public pagingLabel: string;\n\n  \n  public currentPageChange: EventEmitter<number> = new EventEmitter<number>();\n\n  public displayedPages: Array<number> = [];\n  public pageCount: number = 0;\n\n  public ngOnChanges(changes: SimpleChanges) {\n    this.setPage(this.currentPage);\n  }\n\n  public setPage(pageNumber: number): void {\n    let previousPage = this.currentPage;\n\n    this.setPageCount();\n\n    if (pageNumber < 1 || this.pageCount < 1) {\n      this.currentPage = 1;\n    } else if (pageNumber > this.pageCount) {\n      this.currentPage = this.pageCount;\n    } else {\n      this.currentPage = pageNumber;\n    }\n\n    this.setDisplayedPages();\n\n    if (previousPage !== this.currentPage) {\n      this.currentPageChange.emit(this.currentPage);\n    }\n\n  }\n\n  public nextPage(): void {\n    this.setPage(this.currentPage + 1);\n  }\n\n  public previousPage(): void {\n    this.setPage(this.currentPage - 1);\n  }\n\n  private getDisplayedPageNumbers(\n    pageCount: number,\n    maxDisplayedPages: number,\n    pageNumber: number\n  ): Array<number> {\n    let pageBounds = Math.floor((maxDisplayedPages - 1) / 2);\n    let lowerBound = pageNumber - pageBounds - 1;\n    let upperBound = pageNumber + pageBounds - 1;\n\n    if (pageCount < maxDisplayedPages) {\n      lowerBound = 0;\n      upperBound = pageCount - 1;\n    } else {\n      if (upperBound > pageCount - 1) {\n        upperBound = pageCount - 1;\n        /* istanbul ignore else */\n        /* sanity check */\n        if (upperBound - lowerBound < maxDisplayedPages) {\n          lowerBound = upperBound - maxDisplayedPages + 1;\n        }\n      } else if (lowerBound < 0) {\n        lowerBound = 0;\n        upperBound = maxDisplayedPages - 1;\n      }\n    }\n\n    let displayedPageNumbers: Array<number> = [];\n    for (let i = lowerBound; i <= upperBound; i++) {\n      displayedPageNumbers.push(i + 1);\n    }\n    return displayedPageNumbers;\n  }\n\n  private setPageCount() {\n    if (this.itemCount === 0 || this.pageSize === 0) {\n      this.pageCount = 0;\n      return;\n    }\n\n    this.pageCount = Math.ceil(this.itemCount / this.pageSize);\n\n  }\n\n  private setDisplayedPages() {\n\n    this.displayedPages =\n      this.getDisplayedPageNumbers(this.pageCount, this.maxPages, this.currentPage);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'sky-paging',\n  template: `<ul\n  role=\"navigation\"\n  *ngIf=\"pageCount > 1\"\n  [attr.aria-label]=\"pagingLabel || 'paging_label' | skyResources\"\n  >\n  <li>\n    <a\n      href\n      (click)=\"previousPage(); false\"\n      class=\"fa fa-caret-left sky-paging-caret\"\n      sky-cmp-id=\"previous\"\n      [ngClass]=\"{ 'sky-paging-disabled': currentPage === 1 }\"\n      [attr.aria-label]=\"'paging_previous' | skyResources\"></a>\n  </li>\n  <li\n    *ngFor=\"let pageNumber of displayedPages\"\n    class=\"sky-list-paging-link\">\n    <a\n      href\n      [attr.sky-cmp-id]=\"pageNumber\"\n      (click)=\"setPage(pageNumber); false\"\n      [ngClass]=\"{ 'sky-paging-current': currentPage === pageNumber }\"\n      >{{pageNumber}}\n    </a>\n  </li>\n  <li>\n    <a\n      href\n      (click)=\"nextPage(); false\"\n      class=\"fa fa-caret-right sky-paging-caret\"\n      sky-cmp-id=\"next\"\n      [ngClass]=\"{ 'sky-paging-disabled': pageCount === currentPage }\"\n      [attr.aria-label]=\"'paging_next' | skyResources\"\n      >\n    </a>\n  </li>\n</ul>\n`,\n  styles: [`:host {\n  display: block;\n  margin-top: 15px;\n}\n\n:host ul {\n  margin: 0;\n  display: inline-block;\n  padding-left: 0;\n  border-radius: 4px;\n}\n\n:host li {\n  display: inline;\n}\n\n:host li a {\n  background-color: #ffffff;\n  color: inherit;\n  border-top: 1px solid #e2e3e4;\n  border-right: 1px solid #e2e3e4;\n  border-bottom: 1px solid #e2e3e4;\n  border-left: 1px solid #e2e3e4;\n  float: left;\n  margin-left: -1px;\n  padding: 4px 10px;\n  text-decoration: none;\n  line-height: 1.42857;\n  font-size: 15px;\n  cursor: pointer;\n}\n\n:host li a.sky-paging-caret {\n  padding-left: 8.5px;\n  padding-right: 8.5px;\n  transform: none;\n}\n\n:host li a.sky-paging-current {\n  background-color: #eeeeef;\n}\n\n:host li a:hover {\n  background-color: #d4d4d6;\n}\n\n:host li a.sky-paging-disabled {\n  color: #686c73;\n  cursor: not-allowed;\n  pointer-events: none;\n}\n`],\n  changeDetection: ChangeDetectionStrategy.OnPush\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'pageSize': [{ type: Input },],\n'maxPages': [{ type: Input },],\n'currentPage': [{ type: Input },],\n'itemCount': [{ type: Input },],\n'pagingLabel': [{ type: Input },],\n'currentPageChange': [{ type: Output },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}
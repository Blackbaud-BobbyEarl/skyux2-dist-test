{"version":3,"sources":["../../../.srctemp/modules/popover/popover.component.ts"],"names":[],"mappings":"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","file":"popover.component.js","sourceRoot":"","sourcesContent":["import {\n  ChangeDetectorRef,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  ViewChild\n} from '@angular/core';\n\nimport {\n  AnimationEvent,\n  trigger,\n  state,\n  style,\n  animate,\n  transition\n} from '@angular/animations';\n\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/fromEvent';\nimport { Subject } from 'rxjs/Subject';\nimport 'rxjs/add/operator/takeUntil';\n\nimport {\n  SkyWindowRefService\n} from '../window';\n\nimport {\n  SkyPopoverAlignment,\n  SkyPopoverPlacement\n} from './types';\n\nimport { SkyPopoverAdapterService } from './popover-adapter.service';\n\n\nexport class SkyPopoverComponent implements OnInit, OnDestroy {\n  \n  public dismissOnBlur = true;\n\n  \n  public popoverTitle: string;\n\n  \n  public set alignment(value: SkyPopoverAlignment) {\n    this._alignment = value;\n  }\n\n  public get alignment(): SkyPopoverAlignment {\n    return this._alignment || 'center';\n  }\n\n  \n  public set placement(value: SkyPopoverPlacement) {\n    this._placement = value;\n  }\n\n  public get placement(): SkyPopoverPlacement {\n    return this._placement || 'above';\n  }\n\n  \n  public popoverOpened = new EventEmitter<SkyPopoverComponent>();\n\n  \n  public popoverClosed = new EventEmitter<SkyPopoverComponent>();\n\n  \n  public popoverContainer: ElementRef;\n\n  \n  public popoverArrow: ElementRef;\n\n  public isOpen = false;\n  public isVisible = false;\n  public isMouseEnter = false;\n  public classNames: string[] = [];\n  public animationState: 'hidden' | 'visible' = 'hidden';\n\n  public popoverTop: number;\n  public popoverLeft: number;\n  public arrowTop: number;\n  public arrowLeft: number;\n\n  private caller: ElementRef;\n  private idled = new Subject<boolean>();\n  private isMarkedForCloseOnMouseLeave = false;\n  private preferredPlacement: SkyPopoverPlacement;\n  private scrollListeners: Function[] = [];\n\n  private _alignment: SkyPopoverAlignment;\n  private _placement: SkyPopoverPlacement;\n\n  constructor(\n    private adapterService: SkyPopoverAdapterService,\n    private changeDetector: ChangeDetectorRef,\n    private elementRef: ElementRef,\n    private windowRef: SkyWindowRefService\n  ) { }\n\n  public ngOnInit() {\n    this.preferredPlacement = this.placement;\n    this.adapterService.hidePopover(this.popoverContainer);\n  }\n\n  public ngOnDestroy() {\n    this.removeListeners();\n    this.idled.complete();\n  }\n\n  public positionNextTo(\n    caller: ElementRef,\n    placement?: SkyPopoverPlacement,\n    alignment?: SkyPopoverAlignment\n  ) {\n    if (!caller) {\n      return;\n    }\n\n    this.close();\n\n    this.caller = caller;\n    this.placement = placement;\n    this.alignment = alignment;\n    this.preferredPlacement = this.placement;\n    this.changeDetector.markForCheck();\n\n    // Let the styles render before gauging the dimensions.\n    this.windowRef.getWindow().setTimeout(() => {\n      if (this.adapterService.isPopoverLargerThanParent(this.popoverContainer)) {\n        this.placement = 'fullscreen';\n      }\n\n      this.isVisible = true;\n      this.positionPopover();\n      this.addListeners();\n      this.animationState = 'visible';\n      this.changeDetector.markForCheck();\n    });\n  }\n\n  public reposition() {\n    this.placement = this.preferredPlacement;\n    this.changeDetector.markForCheck();\n\n    if (this.adapterService.isPopoverLargerThanParent(this.popoverContainer)) {\n      this.placement = 'fullscreen';\n    }\n\n    this.positionPopover();\n  }\n\n  public close() {\n    this.animationState = 'hidden';\n    this.removeListeners();\n    this.changeDetector.markForCheck();\n  }\n\n  public onAnimationStart(event: AnimationEvent) {\n    if (event.fromState === 'void') {\n      return;\n    }\n\n    if (event.toState === 'visible') {\n      this.adapterService.showPopover(this.popoverContainer);\n    }\n  }\n\n  public onAnimationDone(event: AnimationEvent) {\n    if (event.fromState === 'void') {\n      return;\n    }\n\n    if (event.toState === 'hidden') {\n      this.isOpen = false;\n      this.adapterService.hidePopover(this.popoverContainer);\n      this.popoverClosed.emit(this);\n    } else {\n      this.isOpen = true;\n      this.popoverOpened.emit(this);\n    }\n  }\n\n  public markForCloseOnMouseLeave() {\n    this.isMarkedForCloseOnMouseLeave = true;\n  }\n\n  private positionPopover() {\n    if (this.placement !== 'fullscreen') {\n      const elements = {\n        popover: this.popoverContainer,\n        popoverArrow: this.popoverArrow,\n        caller: this.caller\n      };\n\n      const position = this.adapterService.getPopoverPosition(\n        elements,\n        this.preferredPlacement,\n        this.alignment\n      );\n\n      this.placement = position.placement;\n      this.alignment = position.alignment;\n      this.popoverTop = position.top;\n      this.popoverLeft = position.left;\n      this.arrowTop = position.arrowTop;\n      this.arrowLeft = position.arrowLeft;\n    }\n\n    this.changeDetector.markForCheck();\n  }\n\n  private addListeners(): void {\n    const windowObj = this.windowRef.getWindow();\n    const hostElement = this.elementRef.nativeElement;\n\n    Observable\n      .fromEvent(windowObj, 'resize')\n      .takeUntil(this.idled)\n      .subscribe(() => {\n        this.reposition();\n      });\n\n    Observable\n      .fromEvent(windowObj.document, 'focusin')\n      .takeUntil(this.idled)\n      .subscribe((event: KeyboardEvent) => {\n        const targetIsChild = (hostElement.contains(event.target));\n        const targetIsCaller = (this.caller && this.caller.nativeElement === event.target);\n\n        /* istanbul ignore else */\n        if (!targetIsChild && !targetIsCaller && this.dismissOnBlur) {\n          // The popover is currently being operated by the user, and\n          // has just lost keyboard focus. We should close it.\n          this.close();\n        }\n      });\n\n    Observable\n      .fromEvent(windowObj.document, 'click')\n      .takeUntil(this.idled)\n      .subscribe((event: MouseEvent) => {\n        if (!this.isMouseEnter && this.dismissOnBlur) {\n          this.close();\n        }\n      });\n\n    Observable\n      .fromEvent(hostElement, 'mouseenter')\n      .takeUntil(this.idled)\n      .subscribe(() => {\n        this.isMouseEnter = true;\n      });\n\n    Observable\n      .fromEvent(hostElement, 'mouseleave')\n      .takeUntil(this.idled)\n      .subscribe(() => {\n        this.isMouseEnter = false;\n        if (this.isMarkedForCloseOnMouseLeave) {\n          this.close();\n          this.isMarkedForCloseOnMouseLeave = false;\n        }\n      });\n\n    Observable\n      .fromEvent(hostElement, 'keyup')\n      .takeUntil(this.idled)\n      .subscribe((event: KeyboardEvent) => {\n        const key = event.key.toLowerCase();\n\n        if (key === 'escape') {\n          event.stopPropagation();\n          event.preventDefault();\n          this.close();\n\n          /* istanbul ignore else */\n          if (this.caller) {\n            this.caller.nativeElement.focus();\n          }\n        }\n      });\n\n    this.scrollListeners = this.adapterService\n      .getParentScrollListeners(this.popoverContainer, (isElementVisibleWithinScrollable: boolean) => {\n        this.reposition();\n        this.isVisible = isElementVisibleWithinScrollable;\n        this.changeDetector.markForCheck();\n      });\n  }\n\n  private removeListeners(): void {\n    this.idled.next(true);\n\n    if (this.scrollListeners) {\n      this.scrollListeners.forEach((listener: any) => {\n        // Remove renderer-generated listeners by calling the listener itself.\n        // https://github.com/angular/angular/issues/9368#issuecomment-227199778\n        listener();\n      });\n\n      this.scrollListeners = [];\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'sky-popover',\n  template: `<div class=\"sky-popover-container\"\n  tabindex=\"-1\"\n  [ngClass]=\"[\n    'sky-popover-alignment-' + alignment,\n    'sky-popover-placement-' + placement\n  ]\"\n  (@popoverState.start)=\"onAnimationStart($event)\"\n  (@popoverState.done)=\"onAnimationDone($event)\"\n  [@popoverState]=\"animationState\"\n  [style.top.px]=\"popoverTop\"\n  [style.left.px]=\"popoverLeft\"\n  [style.visibility]=\"(isVisible) ? 'visible': 'hidden'\"\n  #popoverContainer>\n  <div class=\"sky-popover sky-shadow sky-rounded-corners\">\n    <header class=\"sky-popover-header\" *ngIf=\"popoverTitle\">\n      <h1 class=\"sky-popover-title\">\n        {{ popoverTitle }}\n      </h1>\n    </header>\n    <div class=\"sky-popover-body\">\n      <ng-content></ng-content>\n    </div>\n    <div\n      class=\"sky-popover-arrow\"\n      [style.top.px]=\"arrowTop\"\n      [style.left.px]=\"arrowLeft\"\n      aria-hidden=\"true\"\n      #popoverArrow></div>\n  </div>\n</div>\n`,\n  styles: [`.sky-popover-container {\n  position: fixed;\n  z-index: 999;\n  min-width: 276px;\n  max-width: 276px;\n}\n\n.sky-popover-container.sky-popover-hidden {\n  visibility: hidden;\n  opacity: 0;\n  top: -9999px !important;\n  left: -9999px !important;\n}\n\n.sky-popover-container:focus {\n  outline: none;\n}\n\n@media (max-width: 276px) {\n  .sky-popover-container {\n    max-width: 100%;\n    min-width: auto;\n  }\n}\n\n.sky-popover {\n  background-color: #ffffff;\n}\n\n.sky-popover-header {\n  padding: 10px 10px 0 10px;\n}\n\n.sky-popover-header + .sky-popover-body {\n  padding-top: 2px;\n}\n\n.sky-popover-title {\n  font-family: \"Blackbaud Sans\", \"Helvetica Neue\", Arial, sans-serif;\n  color: #282b31;\n  font-weight: 600;\n  font-size: 16px;\n  margin: 0;\n}\n\n.sky-popover-body {\n  padding: 10px;\n}\n\n.sky-popover-arrow {\n  width: 0;\n  height: 0;\n  position: absolute;\n  border: 10px solid transparent;\n}\n\n.sky-popover-placement-fullscreen {\n  background-color: rgba(0, 0, 0, 0.2);\n  padding: 10px !important;\n  top: 0 !important;\n  left: 0 !important;\n  right: 0;\n  bottom: 0;\n  width: 100% !important;\n  max-width: none;\n  max-height: 100%;\n  height: auto !important;\n}\n\n.sky-popover-placement-fullscreen > .sky-popover {\n  border-top: 1px solid #cdcfd2;\n  border-bottom: 1px solid #cdcfd2;\n  border-left: 1px solid #cdcfd2;\n  border-right: 1px solid #cdcfd2;\n  overflow: auto;\n  max-height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.sky-popover-placement-fullscreen > .sky-popover .sky-popover-header {\n  padding: 10px;\n  border-bottom: 1px solid #e2e3e4;\n}\n\n.sky-popover-placement-fullscreen > .sky-popover .sky-popover-body {\n  position: relative;\n}\n\n.sky-popover-placement-above {\n  padding-bottom: 10px;\n}\n\n.sky-popover-placement-above .sky-popover {\n  border-bottom: 10px solid #00b4f1;\n}\n\n.sky-popover-placement-above .sky-popover-arrow {\n  border-bottom: 0;\n  border-top-color: #00b4f1;\n  bottom: 0;\n  left: 50%;\n  margin-left: -10px;\n}\n\n.sky-popover-placement-below {\n  padding-top: 10px;\n}\n\n.sky-popover-placement-below .sky-popover {\n  border-top: 10px solid #00b4f1;\n}\n\n.sky-popover-placement-below .sky-popover-arrow {\n  border-top: 0;\n  border-bottom-color: #00b4f1;\n  top: 0;\n  left: 50%;\n  margin-left: -10px;\n}\n\n.sky-popover-placement-right {\n  padding-left: 10px;\n}\n\n.sky-popover-placement-right .sky-popover {\n  border-left: 10px solid #00b4f1;\n}\n\n.sky-popover-placement-right .sky-popover-arrow {\n  border-left: 0;\n  border-right-color: #00b4f1;\n  left: 0;\n  top: 50%;\n  margin-top: -10px;\n}\n\n.sky-popover-placement-left {\n  padding-right: 10px;\n}\n\n.sky-popover-placement-left .sky-popover {\n  border-right: 10px solid #00b4f1;\n}\n\n.sky-popover-placement-left .sky-popover-arrow {\n  border-right: 0;\n  border-left-color: #00b4f1;\n  right: 0;\n  top: 50%;\n  margin-top: -10px;\n}\n\n.sky-popover-placement-above.sky-popover-alignment-left .sky-popover-arrow,\n.sky-popover-placement-below.sky-popover-alignment-left .sky-popover-arrow {\n  left: 40px;\n  right: auto;\n}\n\n.sky-popover-placement-above.sky-popover-alignment-right .sky-popover-arrow,\n.sky-popover-placement-below.sky-popover-alignment-right .sky-popover-arrow {\n  left: auto;\n  right: 40px;\n}\n`],\n  providers: [SkyPopoverAdapterService],\n  animations: [\n    trigger('popoverState', [\n      state('visible', style({ opacity: 1, visibility: 'visible' })),\n      state('hidden', style({ opacity: 0 })),\n      transition('hidden => visible', animate('150ms')),\n      transition('visible => hidden', animate('150ms'))\n    ])\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: SkyPopoverAdapterService, },\n{type: ChangeDetectorRef, },\n{type: ElementRef, },\n{type: SkyWindowRefService, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'dismissOnBlur': [{ type: Input },],\n'popoverTitle': [{ type: Input },],\n'alignment': [{ type: Input },],\n'placement': [{ type: Input },],\n'popoverOpened': [{ type: Output },],\n'popoverClosed': [{ type: Output },],\n'popoverContainer': [{ type: ViewChild, args: ['popoverContainer', ] },],\n'popoverArrow': [{ type: ViewChild, args: ['popoverArrow', ] },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}
{"version":3,"sources":["../../../../../.srctemp/modules/link-records/state/results/results.orchestrator.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,OAAO,EAAE,+BAA+B,EAAE,MAAM,+BAA+B,CAAC;AAChF,OAAO,EAAE,SAAS,EAAE,MAAM,wBAAwB,CAAC;AACnD,IAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAEjC,OAAO,EAAE,yBAAyB,EAAE,MAAM,gBAAgB,CAAC;AAC3D,OAAO,EAAE,+BAA+B,EAAE,MAAM,WAAW,CAAC;AAE5D;IACU,qDAAqE;IAC7E;QAAA,YACE,iBAAO,SAIR;QAFC,KAAI;aACD,QAAQ,CAAC,+BAA+B,EAAE,KAAI,CAAC,IAAI,CAAC,CAAC;;IAC1D,CAAC;IAEO,gDAAI,GAAZ,UACE,KAA2C,EAC3C,MAAuC;QACvC,IAAM,UAAU,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,EAAD,CAAC,CAAC,CAAC,GAAG,CAAC,UAAA,CAAC,IAAI,OAAA,IAAI,yBAAyB,CAAC,CAAC,CAAC,EAAhC,CAAgC,CAAC,CAAC;QAE5F,EAAE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;YACnB,MAAM,CAAC,IAAI,SAAS,CAA4B,UAAU,EAAE,MAAM,EAAE,CAAC,CAAC;QACxE,CAAC;QAED,MAAM,CAAC,IAAI,SAAS,CAAgC,KAAK,CAAC,KAAK,QAAK,UAAU,GAAG,MAAM,EAAE,CAAC,CAAC;IAC7F,CAAC;IACH,wCAAC;AAAD,CApBA,AAoBC,CAnBS,+BAA+B,GAmBxC","file":"results.orchestrator.js","sourceRoot":"","sourcesContent":["import { SkyLinkRecordsStateOrchestrator } from '../link-records-state.rxstate';\nimport { AsyncList } from 'microedge-rxstate/dist';\nconst moment = require('moment');\n\nimport { SkyLinkRecordsResultModel } from './result.model';\nimport { SkyLinkRecordsResultsLoadAction } from './actions';\n\nexport class SkyLinkRecordsResultsOrchestrator\n  extends SkyLinkRecordsStateOrchestrator<AsyncList<SkyLinkRecordsResultModel>> {\n  constructor() {\n    super();\n\n    this\n      .register(SkyLinkRecordsResultsLoadAction, this.load);\n  }\n\n  private load(\n    state: AsyncList<SkyLinkRecordsResultModel>,\n    action: SkyLinkRecordsResultsLoadAction): AsyncList<SkyLinkRecordsResultModel> {\n    const newResults = action.results.filter(c => c).map(g => new SkyLinkRecordsResultModel(g));\n\n    if (action.refresh) {\n      return new AsyncList<SkyLinkRecordsResultModel>(newResults, moment());\n    }\n\n    return new AsyncList<SkyLinkRecordsResultModel>([...state.items, ...newResults], moment());\n  }\n}\n"]}
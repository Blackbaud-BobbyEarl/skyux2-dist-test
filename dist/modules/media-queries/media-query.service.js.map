{"version":3,"sources":["../../../.srctemp/modules/media-queries/media-query.service.ts"],"names":[],"mappings":"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","file":"media-query.service.js","sourceRoot":"","sourcesContent":["import {\n  Injectable,\n  NgZone\n} from '@angular/core';\nimport { SkyMediaQueryListener } from './media-query-listener';\nimport { SkyMediaBreakpoints } from './media-breakpoints';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { Subscription } from 'rxjs/Subscription';\n\n\nexport class SkyMediaQueryService {\n  public static xs = '(max-width: 767px)';\n  public static sm = '(min-width: 768px) and (max-width: 991px)';\n  public static md = '(min-width: 992px) and (max-width: 1199px)';\n  public static lg = '(min-width: 1200px)';\n\n  public get current(): SkyMediaBreakpoints {\n    return this._current;\n  }\n\n  private _current: SkyMediaBreakpoints = SkyMediaBreakpoints.md;\n\n  private xsMql: MediaQueryList;\n  private smMql: MediaQueryList;\n  private mdMql: MediaQueryList;\n  private lgMql: MediaQueryList;\n\n  private xsListener: MediaQueryListListener;\n  private smListener: MediaQueryListListener;\n  private mdListener: MediaQueryListListener;\n  private lgListener: MediaQueryListListener;\n\n  private currentSubject: BehaviorSubject<SkyMediaBreakpoints>\n    = new BehaviorSubject<SkyMediaBreakpoints>(this.current);\n\n  constructor(private zone: NgZone) {\n    this.xsListener = (mql: MediaQueryList) => {\n      this.setupListener(mql, SkyMediaBreakpoints.xs);\n    };\n\n    this.smListener = (mql: MediaQueryList) => {\n      this.setupListener(mql, SkyMediaBreakpoints.sm);\n    };\n\n    this.mdListener = (mql: MediaQueryList) => {\n      this.setupListener(mql, SkyMediaBreakpoints.md);\n    };\n\n    this.lgListener = (mql: MediaQueryList) => {\n      this.setupListener(mql, SkyMediaBreakpoints.lg);\n    };\n\n    this.xsMql = matchMedia(SkyMediaQueryService.xs);\n    this.xsMql.addListener(this.xsListener);\n\n    this.smMql = matchMedia(SkyMediaQueryService.sm);\n    this.smMql.addListener(this.smListener);\n\n    this.mdMql = matchMedia(SkyMediaQueryService.md);\n    this.mdMql.addListener(this.mdListener);\n\n    this.lgMql = matchMedia(SkyMediaQueryService.lg);\n    this.lgMql.addListener(this.lgListener);\n\n    this.setupListener(this.xsMql, SkyMediaBreakpoints.xs);\n    this.setupListener(this.smMql, SkyMediaBreakpoints.sm);\n    this.setupListener(this.mdMql, SkyMediaBreakpoints.md);\n    this.setupListener(this.lgMql, SkyMediaBreakpoints.lg);\n  }\n\n  public subscribe(listener: SkyMediaQueryListener): Subscription {\n    return this.currentSubject.subscribe(\n      {\n        next: (breakpoints: SkyMediaBreakpoints) => {\n          listener(breakpoints);\n        }\n      }\n    );\n  }\n\n  public destroy() {\n    this.xsMql.removeListener(this.xsListener);\n    this.xsMql = undefined;\n    this.xsListener = undefined;\n\n    this.smMql.removeListener(this.smListener);\n    this.smMql = undefined;\n    this.smListener = undefined;\n\n    this.mdMql.removeListener(this.mdListener);\n    this.mdMql = undefined;\n    this.mdListener = undefined;\n\n    this.lgMql.removeListener(this.lgListener);\n    this.lgMql = undefined;\n    this.lgListener = undefined;\n\n    this.currentSubject.complete();\n  }\n\n  private setupListener(mql: MediaQueryList, breakpoints: SkyMediaBreakpoints) {\n    this.zone.run(() => {\n      if (mql.matches) {\n        this._current = breakpoints;\n        this.currentSubject.next(breakpoints);\n      }\n    });\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: NgZone, },\n];\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}
{"version":3,"sources":["../../../.srctemp/demos/file-attachment/file-attachment-demo.component.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAA,EAAU,MAAO,eAAA,CAAgB;AAS1C;IAQE;QAHO,gBAAW,GAAW,OAAO,CAAC;QAC9B,kBAAa,GAAW,sBAAsB,CAAC;QAGpD,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;IAC1B,CAAC;IAEM,qDAAY,GAAnB,UAAoB,MAAyB;QAC3C,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAC7D,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;QACrE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IACrD,CAAC;IAEM,kDAAS,GAAhB,UAAiB,MAAmB;QAClC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACvD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IAC/C,CAAC;IAEM,qDAAY,GAAnB,UAAoB,IAAiB;QACnC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACtC,MAAM,CAAC,4DAA4D,CAAC;QACtE,CAAC;IACH,CAAC;IAEM,mDAAU,GAAjB,UAAkB,IAA+B;QAC/C,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QAC1C,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;QAC/C,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;IACjD,CAAC;IAEO,wDAAe,GAAvB,UAAwB,KAAY,EAAE,GAA8B;QAClE,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YACV,IAAM,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YAEjC,EAAE,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBACjB,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YACzB,CAAC;QACH,CAAC;IACH,CAAC;IAoCH,qCAAC;AAAD,CAlFA,AAkFC;;AAnCM,yCAAU,GAA0B;IAC3C,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;gBACxB,QAAQ,EAAE,0BAA0B;gBACpC,QAAQ,EAAE,k3BA0BX;aACA,EAAG,EAAE;CACL,CAAC;AACF,kBAAkB;AACX,6CAAc,GAAmE,cAAM,OAAA,EAC7F,EAD6F,CAC7F,CAAC","file":"file-attachment-demo.component.js","sourceRoot":"","sourcesContent":["import { Component } from '@angular/core';\n\nimport {\n  SkyFileItem,\n  SkyFileDropChange,\n  SkyFileLink\n} from '../../core';\n\n\nexport class SkyFileAttachmentDemoComponent {\n  public filesToUpload: SkyFileItem[];\n  public allItems: (SkyFileItem | SkyFileLink)[];\n  public linksToUpload: SkyFileLink[];\n  public rejectedFiles: SkyFileItem[];\n  public maxFileSize: number = 4000000;\n  public acceptedTypes: string = 'image/png,image/jpeg';\n\n  constructor() {\n    this.filesToUpload = [];\n    this.rejectedFiles = [];\n    this.allItems = [];\n    this.linksToUpload = [];\n  }\n\n  public filesUpdated(result: SkyFileDropChange) {\n    this.filesToUpload = this.filesToUpload.concat(result.files);\n    this.rejectedFiles = this.rejectedFiles.concat(result.rejectedFiles);\n    this.allItems = this.allItems.concat(result.files);\n  }\n\n  public linkAdded(result: SkyFileLink) {\n    this.linksToUpload = this.linksToUpload.concat(result);\n    this.allItems = this.allItems.concat(result);\n  }\n\n  public validateFile(file: SkyFileItem) {\n    if (file.file.name.indexOf('a') === 0) {\n      return 'You may not upload a file that begins with the letter \"a.\"';\n    }\n  }\n\n  public deleteFile(file: SkyFileItem | SkyFileLink) {\n    this.removeFromArray(this.allItems, file);\n    this.removeFromArray(this.filesToUpload, file);\n    this.removeFromArray(this.linksToUpload, file);\n  }\n\n  private removeFromArray(items: any[], obj: SkyFileItem | SkyFileLink) {\n    if (items) {\n      const index = items.indexOf(obj);\n\n      if (index !== -1) {\n        items.splice(index, 1);\n      }\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'sky-file-attachment-demo',\n  template: `<div style=\"width: 60%; margin-left: auto; margin-right: auto;\">\n  <sky-file-drop\n    (filesChanged)=\"filesUpdated($event)\"\n    (linkChanged)=\"linkAdded($event)\"\n    [maxFileSize]=\"maxFileSize\"\n    [validateFn]=\"validateFile\"\n    [allowLinks]=\"true\"\n    [acceptedTypes]=\"acceptedTypes\">\n  </sky-file-drop>\n\n  <sky-alert\n    [alertType]=\"'danger'\"\n    [closeable]=\"true\"\n    *ngIf=\"rejectedFiles.length > 0\">\n    The file <strong>{{rejectedFiles[rejectedFiles.length - 1].file.name}}</strong> is invalid.\n    Reason: {{rejectedFiles[rejectedFiles.length - 1].errorType}} violation.\n    Error param: {{rejectedFiles[rejectedFiles.length - 1].errorParam}}\n  </sky-alert>\n\n  <div *ngFor=\"let file of allItems\">\n    <sky-file-item\n      [fileItem]=\"file\"\n      (deleteFile)=\"deleteFile($event)\">\n    </sky-file-item>\n  </div>\n</div>\n`\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}
{"version":3,"sources":["../../../.srctemp/modules/modal/modal.component.ts"],"names":[],"mappings":"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","file":"modal.component.js","sourceRoot":"","sourcesContent":[" import {\n  animate,\n  Component,\n  Input,\n  state,\n  style,\n  transition,\n  trigger,\n  ElementRef,\n  AfterViewInit,\n  HostListener\n} from '@angular/core';\n\nimport { SkyModalHostService } from './modal-host.service';\nimport { SkyModalConfiguration } from './modal-configuration';\n\nimport { SkyModalComponentAdapterService } from './modal-component-adapter.service';\nimport { SkyWindowRefService } from '../window';\n\nlet skyModalUniqueIdentifier: number = 0;\n\n\nexport class SkyModalComponent implements AfterViewInit {\n  public modalState = 'in';\n  public modalContentId: string = 'sky-modal-content-id-' + skyModalUniqueIdentifier.toString();\n  public modalHeaderId: string = 'sky-modal-header-id-' + skyModalUniqueIdentifier.toString();\n\n  \n  public set tiledBody(value: boolean) {\n    this.config.tiledBody = value;\n  }\n\n  public get modalZIndex() {\n    return this.hostService.getModalZIndex();\n  }\n\n  public get modalFullPage() {\n    return this.config.fullPage;\n  }\n\n  public get isSmallSize() {\n    return !this.modalFullPage && this.isSizeEqual(this.config.size, 'small');\n  }\n\n  public get isMediumSize() {\n    return !this.modalFullPage && !(this.isSmallSize || this.isLargeSize);\n  }\n\n  public get isLargeSize() {\n    return !this.modalFullPage && this.isSizeEqual(this.config.size, 'large');\n  }\n\n  public get isTiledBody() {\n    return this.config.tiledBody;\n  }\n\n  public get ariaDescribedBy() {\n    return this.config.ariaDescribedBy || this.modalContentId;\n  }\n\n  public get ariaLabelledBy() {\n    return this.config.ariaLabelledBy || this.modalHeaderId;\n  }\n\n  public get helpKey() {\n    return this.config.helpKey;\n  }\n\n  constructor(\n    private hostService: SkyModalHostService,\n    private config: SkyModalConfiguration,\n    private elRef: ElementRef,\n    private windowRef: SkyWindowRefService,\n    private componentAdapter: SkyModalComponentAdapterService\n  ) { }\n\n  \n  public onDocumentKeyDown(event: KeyboardEvent) {\n    /* istanbul ignore else */\n    /* sanity check */\n    if (SkyModalHostService.openModalCount > 0) {\n      let topModal = SkyModalHostService.topModal;\n      if (topModal && topModal === this.hostService) {\n        switch (event.which) {\n          case 27: { // Esc key pressed\n            event.preventDefault();\n            this.hostService.onClose();\n            break;\n          }\n\n          case 9: {  // Tab pressed\n            let focusChanged = false;\n\n            let focusElementList = this.componentAdapter.loadFocusElementList(this.elRef);\n\n            if (\n              event.shiftKey &&\n              (this.componentAdapter.isFocusInFirstItem(event, focusElementList) ||\n              this.componentAdapter.isModalFocused(event, this.elRef))) {\n\n              focusChanged = this.componentAdapter.focusLastElement(focusElementList);\n            } else if (this.componentAdapter.isFocusInLastItem(event, focusElementList)) {\n              focusChanged = this.componentAdapter.focusFirstElement(focusElementList);\n            }\n\n            if (focusChanged) {\n              event.preventDefault();\n              event.stopPropagation();\n            }\n            break;\n          }\n\n          default:\n            break;\n        }\n      }\n\n    }\n  }\n\n  public ngAfterViewInit() {\n    skyModalUniqueIdentifier++;\n    this.componentAdapter.handleWindowChange(this.elRef);\n\n    // Adding a timeout to avoid ExpressionChangedAfterItHasBeenCheckedError.\n    // https://stackoverflow.com/questions/40562845\n    this.windowRef.getWindow().setTimeout(() => {\n      this.componentAdapter.modalOpened(this.elRef);\n    });\n  }\n\n  public helpButtonClick() {\n    this.hostService.onOpenHelp(this.helpKey);\n  }\n\n  public closeButtonClick() {\n    this.hostService.onClose();\n  }\n\n  public windowResize() {\n    this.componentAdapter.handleWindowChange(this.elRef);\n  }\n\n  private isSizeEqual(actualSize: string, size: string) {\n    return actualSize && actualSize.toLowerCase() === size;\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'sky-modal',\n  template: `<!--\n  Animations are broken in Chrome v52. Angular 2 RC5 will fix it.\n  https://github.com/angular/angular/issues/10245\n-->\n<!--<div @modalState=\"modalState\">-->\n\n<div\n  class=\"sky-modal-dialog\"\n  role=\"dialog\"\n  [attr.aria-describedby]=\"ariaDescribedBy\"\n  [attr.aria-labelledby]=\"ariaLabelledBy\"\n  (window:resize)=\"windowResize()\"\n>\n  <div class=\"sky-modal sky-shadow\"\n    tabindex=\"-1\"\n    [ngClass]=\"{\n      'sky-modal-full-page': modalFullPage,\n      'sky-modal-small' : isSmallSize,\n      'sky-modal-medium' : isMediumSize,\n      'sky-modal-large' : isLargeSize,\n      'sky-modal-tiled' : isTiledBody\n      }\"\n    [ngStyle]=\"{\n        zIndex: modalZIndex\n      }\">\n\n    <div class=\"sky-modal-header\" [hidden]=\"!headerContent || !headerContent.children || headerContent.children.length < 1\">\n      <div [attr.id]=\"modalHeaderId\" class=\"sky-modal-header-content\"  #headerContent>\n        <ng-content select=\"sky-modal-header\"></ng-content>\n      </div>\n      <div class=\"sky-modal-header-buttons\">\n        <button *ngIf=\"helpKey\" type=\"button\" class=\"sky-btn\" name=\"help-button\" [attr.aria-label]=\"'open_help' | skyResources\" (click)=\"helpButtonClick()\">\n          <i class=\"fa fa-question-circle\"></i>\n        </button>\n\n        <button type=\"button\" class=\"sky-btn sky-modal-btn-close\" [attr.aria-label]=\"'modal_close' | skyResources\" (click)=\"closeButtonClick()\">\n\n          <i class=\"fa fa-close\"></i>\n        </button>\n      </div>\n\n    </div>\n    <div [attr.id]=\"modalContentId\" class=\"sky-modal-content\">\n      <ng-content select=\"sky-modal-content\"></ng-content>\n    </div>\n    <div class=\"sky-modal-footer\">\n      <ng-content select=\"sky-modal-footer\"></ng-content>\n    </div>\n</div>\n</div>\n`,\n  styles: [`.sky-modal {\n  border-top: 1px solid #cdcfd2;\n  border-bottom: 1px solid #cdcfd2;\n  border-left: 1px solid #cdcfd2;\n  border-right: 1px solid #cdcfd2;\n  position: fixed;\n  width: auto;\n  left: 0;\n  right: 0;\n  top: 20px;\n  margin: 10px;\n  display: flex;\n  flex-direction: column;\n}\n\n.sky-modal:focus {\n  outline: none;\n}\n\n@media (min-width: 768px) {\n  .sky-modal:not(.sky-modal-large) {\n    margin: 0 auto;\n  }\n  .sky-modal-small {\n    width: 300px;\n  }\n  .sky-modal-medium {\n    width: 600px;\n  }\n}\n\n@media (min-width: 920px) {\n  .sky-modal-large {\n    margin: 0 auto;\n    width: 900px;\n  }\n}\n\n.sky-modal-content {\n  background-color: #fff;\n  padding: 15px;\n}\n\n.sky-modal-tiled .sky-modal-content {\n  background-color: #eeeeef;\n}\n\n.sky-modal-tiled .sky-modal-content /deep/ .sky-tile-title {\n  font-family: \"Blackbaud Sans\", \"Helvetica Neue\", Arial, sans-serif;\n  color: #686c73;\n  font-weight: 300;\n  font-size: 19px;\n}\n\n.sky-modal-tiled .sky-modal-content /deep/ .sky-tile-tools .sky-chevron {\n  margin: 9px 9px 8px 0;\n}\n\n.sky-modal-header {\n  /* Need less padding because of the close button padding */\n  padding-left: 15px;\n  padding-top: 9px;\n  padding-bottom: 9px;\n  padding-right: 3px;\n  background-color: #fff;\n  display: flex;\n  align-items: baseline;\n  border-bottom: 1px solid #e2e3e4;\n}\n\n.sky-modal-header-buttons .sky-btn {\n  border: none;\n  color: #cdcfd2;\n  cursor: pointer;\n}\n\n.sky-modal-header-buttons .sky-btn:hover {\n  color: #979ba2;\n  transition: color 150ms;\n}\n\n.sky-modal-header-content {\n  flex-grow: 1;\n  font-family: \"Blackbaud Sans\", \"Helvetica Neue\", Arial, sans-serif;\n  color: #282b31;\n  font-weight: 600;\n  font-size: 16px;\n}\n\n.sky-modal-header {\n  flex-shrink: 0;\n}\n\n.sky-modal-content {\n  overflow-y: auto;\n}\n\n.sky-modal-footer {\n  flex-shrink: 0;\n}\n\n.sky-modal-footer /deep/ sky-tabset-nav-button + sky-tabset-nav-button {\n  margin-left: 10px;\n}\n\n.sky-modal-footer /deep/ sky-tabset-nav-button + .sky-btn {\n  margin-left: 10px;\n}\n\n.sky-modal-footer /deep/ .sky-btn + .sky-btn {\n  margin-left: 10px;\n}\n\n.sky-modal-footer /deep/ .sky-btn + .sky-btn-link {\n  margin-left: -2px;\n  /* offset the padding of the btn-link */\n}\n\n.sky-modal-full-page {\n  width: 100%;\n  top: 0;\n  margin: 0;\n}\n\n.sky-modal-full-page .sky-modal-header-content {\n  font-family: \"Blackbaud Sans Condensed\", \"Helvetica Neue Condensed\", \"Arial Narrow\";\n  color: #282b31;\n  font-weight: 300;\n  font-size: 26px;\n}\n\n.sky-modal-full-page .sky-modal-header-buttons .fa-close {\n  font-size: 20px;\n}\n\n.sky-modal-full-page .sky-modal-content {\n  flex-grow: 1;\n}\n\n:host /deep/ .sky-sectioned-form {\n  height: 460px;\n  margin: -15px;\n}\n`],\n  animations: [\n    trigger('modalState', [\n      state('in', style({ opacity: '1.0' })),\n      state('out', style({ opacity: '0.0' })),\n      transition('void => *', [\n        style({ opacity: '0.0' }),\n        animate(150)\n      ]),\n      transition('* => void', [\n        animate(150, style({ opacity: '0.0' }))\n      ])\n    ])\n  ],\n  providers: [\n    SkyModalComponentAdapterService\n  ]\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: SkyModalHostService, },\n{type: SkyModalConfiguration, },\n{type: ElementRef, },\n{type: SkyWindowRefService, },\n{type: SkyModalComponentAdapterService, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'tiledBody': [{ type: Input },],\n'onDocumentKeyDown': [{ type: HostListener, args: ['document:keydown', ['$event'], ] },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}
{"version":3,"sources":["../../../.srctemp/modules/avatar/avatar.inner.component.ts"],"names":[],"mappings":"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","file":"avatar.inner.component.js","sourceRoot":"","sourcesContent":["import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  Input,\n  OnDestroy\n} from '@angular/core';\n\nimport { SkyAvatarAdapterService } from './avatar-adapter.service';\nimport { SkyAvatarSrc } from './avatar-src';\n\n\nexport class SkyAvatarInnerComponent implements AfterViewInit, OnDestroy {\n  public get src(): SkyAvatarSrc {\n    return this._src;\n  }\n\n  \n  public set src(value: SkyAvatarSrc) {\n    this._src = value;\n    this.updateImage();\n  }\n\n  public get name(): string {\n    return this._name;\n  }\n\n  \n  public set name(value: string) {\n    this._name = value;\n  }\n\n  private viewInitialized: boolean;\n\n  private _src: SkyAvatarSrc;\n\n  private _name: string;\n\n  constructor(\n    private elementRef: ElementRef,\n    private adapter: SkyAvatarAdapterService\n  ) { }\n\n  public get initials(): string {\n    let initials: string;\n\n    if (this.name) {\n      let nameSplit = this.name.split(' ');\n      initials = getInitial(nameSplit[0]);\n\n      if (nameSplit.length > 1) {\n        initials += getInitial(nameSplit[nameSplit.length - 1]);\n      }\n    }\n\n    return initials;\n  }\n\n  public get colorIndex(): number {\n    let name = this.name;\n    let colorIndex: number;\n\n    if (name) {\n        // Generate a unique-ish color based on the record name.  This is deterministic\n        // so that a given name will always generate the same color.\n        let seed = name.charCodeAt(0) + name.charCodeAt(name.length - 1) + name.length;\n        colorIndex = Math.abs(seed % 6);\n    } else {\n        colorIndex = 0;\n    }\n\n    return colorIndex;\n  }\n\n  public ngAfterViewInit() {\n    this.viewInitialized = true;\n    this.updateImage();\n  }\n\n  public ngOnDestroy() {\n    this.adapter.destroy();\n  }\n\n  private updateImage() {\n    if (this.viewInitialized) {\n      this.adapter.updateImage(this.elementRef, this.src);\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'sky-avatar-inner',\n  template: `<div class=\"sky-avatar-wrapper\">\n  <div class=\"sky-avatar-image\" [hidden]=\"!src\"></div>\n  <div\n    class=\"sky-avatar-initials\"\n    [ngClass]=\"'sky-palette-multi-' + (colorIndex + 1)\"\n    [hidden]=\"src || !name\"\n    >\n    <div class=\"sky-avatar-initials-inner\">\n      {{initials}}\n    </div>\n  </div>\n</div>\n`,\n  styles: [`.sky-avatar-wrapper {\n  height: 104px;\n  width: 104px;\n  border: solid 2px transparent;\n  border-radius: 50%;\n  overflow: hidden;\n  position: relative;\n  top: -2px;\n  left: -2px;\n}\n\n.sky-avatar-image,\n.sky-avatar-initials {\n  height: 100px;\n  width: 100px;\n  background-position: 50%;\n  background-size: cover;\n  /* this removes the \"ghost margin\" from the bottom of the canvas element that would otherwise be imposed by line height rules for inline elements */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.sky-avatar-initials-inner {\n  color: #fff;\n  cursor: default;\n  font-size: 50px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n`],\n  providers: [SkyAvatarAdapterService]\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: SkyAvatarAdapterService, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'src': [{ type: Input },],\n'name': [{ type: Input },],\n};\n}\n\nfunction getInitial(name: string): string {\n  return name.charAt(0).toUpperCase();\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}
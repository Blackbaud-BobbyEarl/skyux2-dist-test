{"version":3,"sources":["../../../.srctemp/modules/list-toolbar/list-toolbar.component.ts"],"names":[],"mappings":"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","file":"list-toolbar.component.js","sourceRoot":"","sourcesContent":["import {\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChildren,\n  Input,\n  OnDestroy,\n  OnInit,\n  QueryList,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\n\nimport { Observable } from 'rxjs/Observable';\nimport { Subject } from 'rxjs/Subject';\nimport 'rxjs/add/operator/distinctUntilChanged';\nimport 'rxjs/add/operator/take';\nimport 'rxjs/add/operator/takeUntil';\n\nimport {\n  getValue\n} from 'microedge-rxstate/dist/helpers';\n\nimport {\n  SkyListFilterSummaryComponent,\n  SkyListFilterInlineComponent\n} from '../list-filters';\n\nimport {\n  ListToolbarModel,\n  ListToolbarItemModel,\n  ListToolbarSetTypeAction,\n  ListState,\n  ListStateDispatcher,\n  ListSortLabelModel,\n  ListSortFieldSelectorModel,\n  ListFilterModel,\n  ListPagingSetPageNumberAction\n} from '../list/state';\n\nimport {\n  SkySearchComponent\n} from '../search';\n\nimport {\n  ListToolbarConfigSetSearchEnabledAction,\n  ListToolbarConfigSetSortSelectorEnabledAction\n} from './state/config/actions';\n\nimport {\n  ListToolbarState,\n  ListToolbarStateDispatcher,\n  ListToolbarStateModel\n} from './state';\n\nimport { SkyListToolbarItemComponent } from './list-toolbar-item.component';\nimport { SkyListToolbarSortComponent } from './list-toolbar-sort.component';\n\n\nexport class SkyListToolbarComponent implements OnInit, AfterContentInit, OnDestroy {\n  \n  public placeholder: string;\n\n  \n  public searchEnabled: boolean | Observable<boolean>;\n\n  \n  public searchComponent: SkySearchComponent;\n\n  \n  public sortSelectorEnabled: boolean | Observable<boolean>;\n\n  \n  public toolbarType: string = 'standard';\n\n  \n  public searchText: string | Observable<string>;\n\n  public sortSelectors: Observable<Array<any>>;\n  public searchTextInput: Observable<string>;\n  public view: Observable<string>;\n  public leftTemplates: ListToolbarItemModel[];\n  public centerTemplates: ListToolbarItemModel[];\n  public rightTemplates: ListToolbarItemModel[];\n  public type: Observable<string>;\n  public isSearchEnabled: Observable<boolean>;\n  public isSortSelectorEnabled: Observable<boolean>;\n  public appliedFilters: Observable<Array<ListFilterModel>>;\n  public hasAppliedFilters: Observable<boolean>;\n  public showFilterSummary: boolean;\n  public hasInlineFilters: boolean;\n  public inlineFilterBarExpanded: boolean = false;\n  public hasAdditionalToolbarSection = false;\n\n  \n  private toolbarItems: QueryList<SkyListToolbarItemComponent>;\n\n  \n  private toolbarSorts: QueryList<SkyListToolbarSortComponent>;\n\n  \n  private filterSummary: QueryList<SkyListFilterSummaryComponent>;\n\n  \n  private inlineFilter: QueryList<SkyListFilterInlineComponent>;\n\n  \n  private searchTemplate: TemplateRef<any>;\n\n  \n  private sortSelectorTemplate: TemplateRef<any>;\n\n  \n  private inlineFilterButtonTemplate: TemplateRef<any>;\n\n  private hasSortSelectors: boolean = false;\n  private ngUnsubscribe = new Subject();\n\n  constructor(\n    private changeDetector: ChangeDetectorRef,\n    private state: ListState,\n    private dispatcher: ListStateDispatcher,\n    private toolbarState: ListToolbarState,\n    public toolbarDispatcher: ListToolbarStateDispatcher\n  ) { }\n\n  public ngOnInit() {\n    this.dispatcher.toolbarExists(true);\n\n    getValue(this.searchText, (searchText: string) => {\n      this.updateSearchText(searchText);\n    });\n\n    getValue(this.searchEnabled, (searchEnabled: boolean) => {\n      this.toolbarDispatcher.next(\n        new ListToolbarConfigSetSearchEnabledAction(\n          searchEnabled === undefined ? true : searchEnabled\n        )\n      );\n    });\n\n    getValue(this.toolbarType, (type: string) => {\n      this.dispatcher.next(new ListToolbarSetTypeAction(this.toolbarType));\n    });\n\n    getValue(this.sortSelectorEnabled, (sortSelectorEnabled: any) => {\n      this.toolbarDispatcher.next(\n        new ListToolbarConfigSetSortSelectorEnabledAction(\n          sortSelectorEnabled === undefined ? true : sortSelectorEnabled\n        )\n      );\n    });\n\n    this.sortSelectors = this.getSortSelectors();\n\n    // Initialize the sort toolbar item if necessary\n    this.sortSelectors\n      .takeUntil(this.ngUnsubscribe)\n      .distinctUntilChanged()\n      .subscribe((currentSort) => {\n        if (currentSort.length > 0 && !this.hasSortSelectors) {\n          this.hasSortSelectors = true;\n          this.dispatcher.toolbarAddItems([\n            new ListToolbarItemModel({\n              id: 'sort-selector',\n              template: this.sortSelectorTemplate,\n              location: 'right'\n            })\n          ], 0);\n        } else if (currentSort.length < 1 && this.hasSortSelectors) {\n          this.hasSortSelectors = false;\n          this.dispatcher.toolbarRemoveItems([\n            'sort-selector'\n          ]);\n        }\n      });\n\n    this.searchTextInput = this.state.map(s => s.search.searchText).distinctUntilChanged();\n\n    this.view = this.state.map(s => s.views.active).distinctUntilChanged();\n\n    this.watchTemplates();\n\n    this.type = this.state.map((state) => state.toolbar.type).distinctUntilChanged();\n\n    this.type\n      .takeUntil(this.ngUnsubscribe)\n      .subscribe((toolbarType) => {\n        if (toolbarType === 'search') {\n          this.dispatcher.toolbarRemoveItems(['search']);\n        } else {\n          this.dispatcher.toolbarAddItems([\n            new ListToolbarItemModel({\n              id: 'search',\n              template: this.searchTemplate,\n              location: 'center'\n            })\n          ]);\n        }\n      });\n\n    this.isSearchEnabled = this.toolbarState.map(s => s.config)\n      .distinctUntilChanged().map(c => c.searchEnabled);\n\n    this.isSortSelectorEnabled = this.toolbarState.map(s => s.config)\n      .distinctUntilChanged().map(c => c.sortSelectorEnabled);\n\n    this.hasAppliedFilters = this.state\n      .map(s => s.filters)\n      .distinctUntilChanged()\n      .map((filters) => {\n        let activeFilters = filters.filter((f) => {\n            return f.value !== '' &&\n              f.value !== undefined &&\n              f.value !== false &&\n              f.value !== f.defaultValue;\n          });\n        return activeFilters.length > 0;\n      });\n\n    this.state\n      .takeUntil(this.ngUnsubscribe)\n      .subscribe((current: any) => {\n        this.hasAdditionalToolbarSection = (current.toolbar.items.length > 0);\n        this.changeDetector.detectChanges();\n      });\n  }\n\n  public ngAfterContentInit() {\n    this.toolbarItems.forEach((toolbarItem) => {\n      this.dispatcher.toolbarAddItems(\n        [new ListToolbarItemModel(toolbarItem)],\n        toolbarItem.index\n      );\n    });\n\n    let sortModels = this.toolbarSorts.map(sort =>\n      new ListSortLabelModel(\n        {\n          text: sort.label,\n          fieldSelector: sort.field,\n          fieldType: sort.type,\n          global: true,\n          descending: sort.descending\n        }\n      )\n    );\n\n    this.dispatcher.sortSetGlobal(sortModels);\n\n    this.showFilterSummary = (this.filterSummary.length > 0);\n    this.hasInlineFilters = (this.inlineFilter.length > 0);\n\n    if (this.hasInlineFilters) {\n      this.dispatcher.toolbarAddItems([\n        new ListToolbarItemModel({\n          template: this.inlineFilterButtonTemplate,\n          location: 'right'\n        })\n      ], 0);\n    }\n  }\n\n  public ngOnDestroy() {\n    this.ngUnsubscribe.next();\n    this.ngUnsubscribe.complete();\n  }\n\n  public setSort(sort: ListSortLabelModel): void {\n    this.dispatcher.sortSetFieldSelectors(\n      [{fieldSelector: sort.fieldSelector, descending: sort.descending}]\n    );\n  }\n\n  public inlineFilterButtonClick() {\n    this.inlineFilterBarExpanded = !this.inlineFilterBarExpanded;\n  }\n\n  public updateSearchText(searchText: string) {\n    this.state.take(1).subscribe((currentState) => {\n      this.dispatcher.searchSetText(searchText);\n      if (currentState.paging.pageNumber && currentState.paging.pageNumber !== 1) {\n        this.dispatcher.next(\n          new ListPagingSetPageNumberAction(Number(1))\n        );\n      }\n    });\n  }\n\n  private itemIsInView(itemView: string, activeView: string) {\n    return (itemView === undefined || itemView === activeView);\n  }\n\n  private getSortSelectors() {\n    return Observable.combineLatest(\n      this.state.map(s => s.sort.available).distinctUntilChanged(),\n      this.state.map(s => s.sort.global).distinctUntilChanged(),\n      this.state.map(s => s.sort.fieldSelectors).distinctUntilChanged(),\n      (\n        available: Array<ListSortLabelModel>,\n        global: Array<ListSortLabelModel>,\n        fieldSelectors: Array<ListSortFieldSelectorModel>\n      ) => {\n\n        // Get sorts that are in the global that are not in the available\n        let sorts = global.filter(\n          g => available.filter(a => a.fieldSelector === g.fieldSelector).length === 0\n        );\n\n        let resultSortSelectors = [...sorts, ...available].map(sortLabels => {\n          let fs = fieldSelectors.filter(f => {\n            return f.fieldSelector === sortLabels.fieldSelector\n              && f.descending === sortLabels.descending;\n          });\n          let selected = false;\n          if (fs.length > 0) {\n            selected = true;\n          }\n\n          return {\n            sort: sortLabels,\n            selected: selected\n          };\n        });\n\n        return resultSortSelectors;\n      });\n  }\n\n  private watchTemplates() {\n    const templateStream = Observable.combineLatest(\n      this.state.map(s => s.toolbar).distinctUntilChanged(),\n      this.view.distinctUntilChanged(),\n      (toolbar: ListToolbarModel, view: string) => {\n        const items = toolbar.items.filter((i: ListToolbarItemModel) => {\n          return this.itemIsInView(i.view, view);\n        });\n\n        const templates: any = {};\n\n        items.forEach((item: ListToolbarItemModel) => {\n          templates[item.location] = templates[item.location] || [];\n          templates[item.location].push(item);\n        });\n\n        return templates;\n      }\n    );\n\n    templateStream\n      .takeUntil(this.ngUnsubscribe)\n      .subscribe((value) => {\n        this.leftTemplates = value.left;\n        this.centerTemplates = value.center;\n        this.rightTemplates = value.right;\n        this.changeDetector.markForCheck();\n      });\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'sky-list-toolbar',\n  template: `<div class=\"sky-list-toolbar-container\">\n  <sky-toolbar\n    *ngIf=\"(type | async) !== 'search'\">\n    <sky-toolbar-section>\n      <sky-toolbar-item\n        *ngFor=\"let item of leftTemplates\">\n        <sky-list-toolbar-item-renderer\n          [template]=\"item.template\"\n          [attr.sky-cmp-id]=\"item.id\">\n        </sky-list-toolbar-item-renderer>\n      </sky-toolbar-item>\n      <sky-toolbar-item\n        *ngFor=\"let item of centerTemplates\">\n        <sky-list-toolbar-item-renderer\n          [template]=\"item.template\"\n          [attr.sky-cmp-id]=\"item.id\">\n        </sky-list-toolbar-item-renderer>\n      </sky-toolbar-item>\n      <sky-toolbar-item\n        *ngFor=\"let item of rightTemplates\"\n        [attr.sky-toolbar-id]=\"item.id\">\n        <sky-list-toolbar-item-renderer\n          [template]=\"item.template\"\n          [attr.sky-cmp-id]=\"item.id\">\n        </sky-list-toolbar-item-renderer>\n      </sky-toolbar-item>\n      <ng-content></ng-content>\n    </sky-toolbar-section>\n    <sky-toolbar-section\n      *ngIf=\"showFilterSummary && (hasAppliedFilters | async)\">\n      <ng-content\n        select=\"sky-list-filter-summary\">\n      </ng-content>\n    </sky-toolbar-section>\n  </sky-toolbar>\n\n  <div\n    class=\"sky-list-toolbar-search\"\n    *ngIf=\"(type | async) === 'search'\">\n    <sky-toolbar>\n      <sky-toolbar-section>\n        <sky-toolbar-item>\n          <sky-list-toolbar-item-renderer\n            [template]=\"search\"\n            sky-cmp-id=\"search\">\n          </sky-list-toolbar-item-renderer>\n        </sky-toolbar-item>\n      </sky-toolbar-section>\n      <sky-toolbar-section\n        [hidden]=\"!hasAdditionalToolbarSection\">\n        <sky-toolbar-item\n          *ngFor=\"let item of leftTemplates\">\n          <sky-list-toolbar-item-renderer\n            [template]=\"item.template\"\n            [attr.sky-cmp-id]=\"item.id\">\n          </sky-list-toolbar-item-renderer>\n        </sky-toolbar-item>\n        <sky-toolbar-item\n          *ngFor=\"let item of centerTemplates\">\n          <sky-list-toolbar-item-renderer\n            *ngIf=\"item.id !== 'search'\"\n            [template]=\"item.template\"\n            [attr.sky-cmp-id]=\"item.id\">\n          </sky-list-toolbar-item-renderer>\n        </sky-toolbar-item>\n        <sky-toolbar-item\n          *ngFor=\"let item of rightTemplates\"\n          [attr.sky-toolbar-id]=\"item.id\">\n          <sky-list-toolbar-item-renderer\n            [template]=\"item.template\"\n            [attr.sky-cmp-id]=\"item.id\">\n          </sky-list-toolbar-item-renderer>\n        </sky-toolbar-item>\n        <ng-content></ng-content>\n      </sky-toolbar-section>\n    </sky-toolbar>\n  </div>\n  <div\n    *ngIf=\"hasInlineFilters && inlineFilterBarExpanded\">\n    <ng-content\n      select=\"sky-list-filter-inline\">\n    </ng-content>\n  </div>\n</div>\n\n<ng-template #search>\n  <div\n    *ngIf=\"isSearchEnabled | async\">\n    <sky-search\n      #searchComponent\n      [expandMode]=\"(type | async) === 'search' ? 'fit' : 'responsive'\"\n      [searchText]=\"searchTextInput | async\"\n      (searchApply)=\"updateSearchText($event)\"\n      [placeholderText]=\"placeholder\">\n    </sky-search>\n  </div>\n</ng-template>\n\n<ng-template #sortSelector>\n  <div\n    class=\"sky-toolbar-item-sort-container\"\n    *ngIf=\"(isSortSelectorEnabled | async) && (sortSelectors | async).length > 0\">\n    <sky-sort>\n      <sky-sort-item\n        *ngFor=\"let item of sortSelectors | async\"\n        [active]=\"item.selected\"\n        (itemSelect)=\"setSort(item.sort)\">\n        {{item.sort.text}}\n      </sky-sort-item>\n    </sky-sort>\n  </div>\n</ng-template>\n\n<ng-template #inlineFilterButton>\n  <sky-filter-button\n    (filterButtonClick)=\"inlineFilterButtonClick()\"\n    [active]=\"hasAppliedFilters | async\">\n  </sky-filter-button>\n</ng-template>\n`,\n  styles: [`.sky-list-toolbar-search /deep/ .sky-toolbar-container, .sky-list-toolbar-search /deep/ .sky-search-dismiss-absolute {\n  background-color: #eeeeef;\n}\n\n.sky-list-toolbar-container /deep/ sky-toolbar-item[sky-toolbar-id=\"sort-selector\"] .sky-toolbar-item {\n  margin-right: 0;\n}\n\n.sky-toolbar-item-sort-container {\n  margin-right: 5px;\n}\n`],\n  providers: [\n    ListToolbarState,\n    ListToolbarStateDispatcher,\n    ListToolbarStateModel\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ChangeDetectorRef, },\n{type: ListState, },\n{type: ListStateDispatcher, },\n{type: ListToolbarState, },\n{type: ListToolbarStateDispatcher, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'placeholder': [{ type: Input },],\n'searchEnabled': [{ type: Input },],\n'searchComponent': [{ type: ViewChild, args: ['searchComponent', ] },],\n'sortSelectorEnabled': [{ type: Input },],\n'toolbarType': [{ type: Input },],\n'searchText': [{ type: Input },],\n'toolbarItems': [{ type: ContentChildren, args: [SkyListToolbarItemComponent, ] },],\n'toolbarSorts': [{ type: ContentChildren, args: [SkyListToolbarSortComponent, ] },],\n'filterSummary': [{ type: ContentChildren, args: [SkyListFilterSummaryComponent, ] },],\n'inlineFilter': [{ type: ContentChildren, args: [SkyListFilterInlineComponent, ] },],\n'searchTemplate': [{ type: ViewChild, args: ['search', ] },],\n'sortSelectorTemplate': [{ type: ViewChild, args: ['sortSelector', ] },],\n'inlineFilterButtonTemplate': [{ type: ViewChild, args: ['inlineFilterButton', ] },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}
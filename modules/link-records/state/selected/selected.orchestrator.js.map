{"version":3,"sources":["../../../../../.srctemp/modules/link-records/state/selected/selected.orchestrator.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,OAAO,EAAE,+BAA+B,EAAE,MAAM,+BAA+B,CAAC;AAChF,OAAO,EAAE,SAAS,EAAE,MAAM,wBAAwB,CAAC;AACnD,IAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAEjC,OAAO,EACL,uCAAuC,EACvC,yCAAyC,EAC1C,MAAM,WAAW,CAAC;AAEnB;IACU,sDAC0B;IAClC;QAAA,YACE,iBAAO,SAKR;QAHC,KAAI;aACD,QAAQ,CAAC,uCAAuC,EAAE,KAAI,CAAC,WAAW,CAAC;aACnE,QAAQ,CAAC,yCAAyC,EAAE,KAAI,CAAC,aAAa,CAAC,CAAC;;IAC7E,CAAC;IAEO,wDAAW,GAAnB,UACE,KAAgE,EAChE,MAA+C;QAE7C,IAAI,YAAY,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;QACjD,IAAI,MAAM,GAAG,CAAC,YAAY,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,YAAY,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;QAC3F,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC;QAC1C,YAAY,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC;QAElC,MAAM,CAAC,IAAI,SAAS,CAClB,YAAY,EAAE,MAAM,EAAE,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;IAC7C,CAAC;IAEO,0DAAa,GAArB,UACE,KAAgE,EAChE,MAA+C;QAE7C,IAAI,YAAY,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;QACjD,YAAY,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC;QAErC,MAAM,CAAC,IAAI,SAAS,CAClB,YAAY,EAAE,MAAM,EAAE,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;IAC7C,CAAC;IACH,yCAAC;AAAD,CAlCA,AAkCC,CAjCS,+BAA+B,GAiCxC","file":"selected.orchestrator.js","sourceRoot":"","sourcesContent":["import { SkyLinkRecordsStateOrchestrator } from '../link-records-state.rxstate';\nimport { AsyncItem } from 'microedge-rxstate/dist';\nconst moment = require('moment');\n\nimport {\n  SkyLinkRecordsSelectedSetSelectedAction,\n  SkyLinkRecordsSelectedClearSelectedAction\n} from './actions';\n\nexport class SkyLinkRecordsSelectedOrchestrator\n  extends SkyLinkRecordsStateOrchestrator<AsyncItem<{[key: string]:\n    {[keyField: string]: boolean}}>> {\n  constructor() {\n    super();\n\n    this\n      .register(SkyLinkRecordsSelectedSetSelectedAction, this.setSelected)\n      .register(SkyLinkRecordsSelectedClearSelectedAction, this.clearSelected);\n  }\n\n  private setSelected(\n    state: AsyncItem<{[key: string]: {[keyField: string]: boolean}}>,\n    action: SkyLinkRecordsSelectedSetSelectedAction):\n      AsyncItem<{[key: string]: {[keyField: string]: boolean}}> {\n      let newStateItem = Object.assign({}, state.item);\n      let fields = (newStateItem[action.key]) ? Object.assign({}, newStateItem[action.key]) : {};\n      fields[action.fieldKey] = action.selected;\n      newStateItem[action.key] = fields;\n\n      return new AsyncItem<{[key: string]: {[keyField: string]: boolean}}>(\n        newStateItem, moment(), state.loading);\n  }\n\n  private clearSelected(\n    state: AsyncItem<{[key: string]: {[keyField: string]: boolean}}>,\n    action: SkyLinkRecordsSelectedSetSelectedAction):\n      AsyncItem<{[key: string]: {[keyField: string]: boolean}}> {\n      let newStateItem = Object.assign({}, state.item);\n      newStateItem[action.key] = undefined;\n\n      return new AsyncItem<{[key: string]: {[keyField: string]: boolean}}>(\n        newStateItem, moment(), state.loading);\n  }\n}\n"]}
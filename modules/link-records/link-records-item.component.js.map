{"version":3,"sources":["../../../.srctemp/modules/link-records/link-records-item.component.ts"],"names":[],"mappings":"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","file":"link-records-item.component.js","sourceRoot":"","sourcesContent":["import {\n  Component,\n  ChangeDetectionStrategy,\n  Input,\n  TemplateRef,\n  QueryList,\n  ViewChildren,\n  AfterContentInit\n} from '@angular/core';\n\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/distinctUntilChanged';\n\nimport { SkyLinkRecordsState, SkyLinkRecordsStateDispatcher } from './state';\nimport {\n  SkyLinkRecordsMatchesSetStatusAction,\n  SkyLinkRecordsMatchesSetItemAction\n\n} from './state/matches/actions';\nimport {\n  SkyLinkRecordsFieldsClearFieldsAction,\n  SkyLinkRecordsFieldsSetFieldsAction\n} from './state/fields/actions';\nimport {\n  SkyLinkRecordsSelectedClearSelectedAction,\n  SkyLinkRecordsSelectedSetSelectedAction\n} from './state/selected/actions';\nimport { SKY_LINK_RECORDS_STATUSES } from './link-records-statuses';\nimport { SkyLinkRecordsItemModel } from './link-records-item.model';\nimport {\n  SkyLinkRecordsItemDiffComponent\n} from './link-records-item-diff.component';\nimport { SkyLinkRecordsFieldModel } from './state/fields/field.model';\n\n\nexport class SkyLinkRecordsItemComponent implements AfterContentInit {\n  public STATUSES = SKY_LINK_RECORDS_STATUSES;\n   public record: SkyLinkRecordsItemModel;\n   public itemTemplate: TemplateRef<any>;\n   public matchTemplate: TemplateRef<any>;\n   public noMatchTemplate: TemplateRef<any>;\n   public itemTitleTemplate: TemplateRef<any>;\n   public selectedByDefault: boolean;\n   public showNewFieldValues: boolean;\n  \n    public viewItems: QueryList<SkyLinkRecordsItemDiffComponent>;\n\n  /* istanbul ignore next */\n  constructor(\n    private state: SkyLinkRecordsState,\n    private dispatcher: SkyLinkRecordsStateDispatcher\n  ) {}\n\n  public ngAfterContentInit() {\n    if (this.record.status === this.STATUSES.Edit &&\n      (!this.record.matchFields || this.record.matchFields.length === 0)) {\n      this.link();\n    }\n  }\n\n  get updatedFieldsTotal(): Observable<number> {\n    return this.state\n      .map(s => s.selected.item[this.record.key] || {})\n      .map(fields => Object.keys(fields).filter(k => fields[k]).length)\n      .distinctUntilChanged();\n  }\n\n  public link() {\n    this.dispatcher.next(\n      new SkyLinkRecordsMatchesSetStatusAction(this.record.key, this.STATUSES.Linked)\n    );\n  }\n\n  public unlink() {\n    this.dispatcher.next(\n      new SkyLinkRecordsMatchesSetStatusAction(this.record.key, this.STATUSES.NoMatch)\n    );\n    this.dispatcher.next(new SkyLinkRecordsMatchesSetItemAction(this.record.key, undefined));\n    this.dispatcher.next(new SkyLinkRecordsSelectedClearSelectedAction(this.record.key));\n    this.dispatcher.next(new SkyLinkRecordsFieldsClearFieldsAction(this.record.key));\n  }\n\n  public create() {\n    this.dispatcher.next(\n      new SkyLinkRecordsMatchesSetStatusAction(this.record.key, this.STATUSES.Created)\n    );\n    this.dispatcher.next(new SkyLinkRecordsMatchesSetItemAction(this.record.key, this.record.item));\n  }\n\n  public edit() {\n    let filteredMatchFields: Array<any> = [];\n\n    if (this.record.match.item) {\n      // filter possible match fields to show fields between item and item match with different values\n      filteredMatchFields = Object.keys(this.record.match.item)\n        .filter(id => this.record.item.hasOwnProperty(id)\n          && this.record.match.item.hasOwnProperty(id)\n          && this.record.matchFields.findIndex(f => f.key === id) > -1\n          && (this.record.item[id] && this.record.item[id].toString().trim().length > 0)\n          && this.record.item[id] !== this.record.match.item[id]).map(id => {\n          let field = this.record.matchFields.find(f => f.key === id);\n          return new SkyLinkRecordsFieldModel({\n            key: id,\n            label: field && field.label && field.label.trim().length > 0 ? field.label : id,\n            currentValue: this.record.match.item[id],\n            newValue: this.record.item[id]\n          });\n        });\n    }\n\n    if (filteredMatchFields.length === 0) { // if all fields match, link\n      this.dispatcher.next(new SkyLinkRecordsMatchesSetStatusAction(this.record.key, this.STATUSES.Linked));\n    } else if (!this.showNewFieldValues && filteredMatchFields.every(match =>\n          !match.currentValue && match.newValue && match.newValue.length > 0)\n    ) { // if we are not showing new values, and all values are new, link\n      this.dispatcher.next(\n        new SkyLinkRecordsMatchesSetStatusAction(this.record.key, this.STATUSES.Linked)\n      );\n    } else { // else the status is an edit\n      this.dispatcher.next(\n        new SkyLinkRecordsMatchesSetStatusAction(this.record.key, this.STATUSES.Edit)\n      );\n    }\n\n    this.dispatcher.next(new SkyLinkRecordsFieldsSetFieldsAction(this.record.key, filteredMatchFields));\n\n    if (filteredMatchFields.length > 0) {\n      this.state.map((s: any) => s.selected.item)\n        .filter((s: any) => this.selectedByDefault !== undefined)\n        .take(1)\n        .subscribe((selected: any) => {\n          filteredMatchFields.forEach(matchField => {\n            if (selected[this.record.key] && selected[this.record.key].hasOwnProperty(matchField.key)) {\n              return;\n            }\n\n            if (typeof this.selectedByDefault === 'string') {\n              this.selectedByDefault = String(this.selectedByDefault) === 'true';\n            }\n\n            this.dispatcher.next(new SkyLinkRecordsSelectedSetSelectedAction(\n              this.record.key,\n              matchField.key,\n              this.selectedByDefault\n            ));\n          });\n        });\n    }\n  }\n\n  public cancelEdit() {\n    this.dispatcher.next(\n      new SkyLinkRecordsMatchesSetStatusAction(this.record.key, this.STATUSES.Suggested));\n    this.dispatcher.next(new SkyLinkRecordsSelectedClearSelectedAction(this.record.key));\n    this.dispatcher.next(new SkyLinkRecordsFieldsClearFieldsAction(this.record.key));\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'sky-link-records-item',\n    template: `<div *ngIf=\"record.status == STATUSES.Suggested || record.status == STATUSES.Selected\" class=\"link-records-item-info\">\n  {{'link_records_item_info_match' | skyResources}}\n</div>\n<div *ngIf=\"record.status == STATUSES.Linked\" class=\"link-records-item-info\">\n  {{'link_records_item_info_linked' | skyResources}}\n</div>\n<div *ngIf=\"record.status == STATUSES.NoMatch\" class=\"link-records-item-info\">\n  {{'link_records_item_info_no_match' | skyResources}}\n</div>\n<div *ngIf=\"record.status == STATUSES.Created\" class=\"link-records-item-info\">\n  {{'link_records_item_info_created' | skyResources}}\n</div>\n<div *ngIf=\"record.status == STATUSES.Edit\" class=\"link-records-item-info\">\n  {{'link_records_item_info_edit' | skyResources}}\n</div>\n<div class=\"link-records-item\">\n  <div class=\"link-records-item-original sky-shadow\">\n    <div class=\"link-records-item-header\">\n      <sky-link-records-renderer [item]=\"record.item\" [match]=\"record.match\" [fields]=\"record.matchFields\" [template]=\"itemTitleTemplate || defaultItemTitleTemplate\"></sky-link-records-renderer>\n    </div>\n    <sky-link-records-renderer *ngIf=\"record.status != STATUSES.Edit\" class=\"link-records-item-content\" [item]=\"record.item\" [match]=\"record.match\" [fields]=\"record.matchFields\" [template]=\"itemTemplate || defaultItemTemplate\"></sky-link-records-renderer>\n    <sky-link-records-item-diff *ngIf=\"record.status == STATUSES.Edit\" [key]=\"record.key\" [item]=\"record.item\" [match]=\"record.match\" [fields]=\"record.matchFields\" [readOnly]=\"true\"  [showNewFieldValues]=\"showNewFieldValues\" class=\"link-records-item-content\">\n    </sky-link-records-item-diff>\n    <div class=\"link-records-item-footer\"></div>\n  </div>\n  <div class=\"link-records-item-status\">\n    <div class=\"link-records-item-status-content\"><i class=\"fa\"\n      [class.fa-check]=\"record.status == STATUSES.Linked\"\n      [class.fa-pencil]=\"record.status == STATUSES.Edit\"\n      [class.fa-plus-circle]=\"record.status == STATUSES.Created\"\n      [class.fa-question-circle]=\"record.status == STATUSES.Suggested || record.status == STATUSES.NoMatch || record.status == STATUSES.Selected\"\n    ></i></div>\n  </div>\n  <div class=\"link-records-item-match sky-shadow\">\n    <div class=\"link-records-item-header\">\n      <div *ngIf=\"record.status == STATUSES.Created\">\n          {{'link_records_item_header_created' | skyResources}}\n      </div>\n      <div *ngIf=\"record.status == STATUSES.NoMatch\">\n          {{'link_records_item_header_no_match' | skyResources}}\n      </div>\n      <div *ngIf=\"record.status == STATUSES.Suggested || record.status == STATUSES.Selected || record.status == STATUSES.Linked || record.status == STATUSES.Edit\">\n          {{'link_records_item_header_match' | skyResources}}\n      </div>\n    </div>\n    <sky-link-records-renderer *ngIf=\"record.status != STATUSES.Edit && record.status != STATUSES.NoMatch && record.status != STATUSES.Selected\" class=\"link-records-item-content\" [item]=\"record.item\" [match]=\"record.match\" [fields]=\"record.matchFields\" [template]=\"matchTemplate || defaultMatchTemplateContent\"></sky-link-records-renderer>\n    <sky-link-records-renderer *ngIf=\"record.status == STATUSES.NoMatch || record.status == STATUSES.Selected\" class=\"link-records-item-content\" [item]=\"record.item\" [match]=\"record.match\" [fields]=\"record.matchFields\" [template]=\"noMatchTemplate || defaultNoMatchTemplateContent\"></sky-link-records-renderer>\n    <sky-link-records-item-diff *ngIf=\"record.status == STATUSES.Edit\" [key]=\"record.key\" [item]=\"record.item\" [match]=\"record.match\" [fields]=\"record.matchFields\" [selectedByDefault]=\"selectedByDefault\" [showNewFieldValues]=\"showNewFieldValues\" class=\"link-records-item-content\"></sky-link-records-item-diff>\n    <div class=\"link-records-item-footer\">\n      <button *ngIf=\"record.status == STATUSES.Suggested || record.status == STATUSES.Selected\" (click)=\"edit()\" class=\"sky-btn sky-btn-primary\">\n          {{'link_records_item_footer_link' | skyResources}}\n      </button>\n      <button *ngIf=\"record.status == STATUSES.Suggested || record.status == STATUSES.Selected\" (click)=\"unlink()\" class=\"sky-btn sky-btn-default\">\n          {{'link_records_item_footer_search' | skyResources}}\n      </button>\n      <button *ngIf=\"record.status == STATUSES.Linked || record.status == STATUSES.Created\" (click)=\"unlink()\" class=\"sky-btn sky-btn-link\">\n          {{'link_records_item_footer_unlink' | skyResources}}\n      </button>\n      <button *ngIf=\"record.status == STATUSES.NoMatch\" (click)=\"create()\" class=\"sky-btn sky-btn-default\">\n          {{'link_records_item_footer_create' | skyResources}}\n      </button>\n      <button *ngIf=\"record.status == STATUSES.Edit\" (click)=\"link()\" class=\"sky-btn sky-btn-primary\">\n        {{ (updatedFieldsTotal | async) > 0 ? ('link_records_item_footer_link_with_updating' | skyResources) + ' (' + (updatedFieldsTotal | async) + ')' : ('link_records_item_footer_link_without_updating' | skyResources) }}\n      </button>\n      <button *ngIf=\"record.status == STATUSES.Edit\" (click)=\"cancelEdit()\" class=\"sky-btn sky-btn-link\">\n          {{'link_records_item_footer_cancel' | skyResources}}\n      </button>\n    </div>\n  </div>\n</div>\n\n<ng-template #defaultItemTitleTemplate let-item=\"item\">\n  {{'link_records_item_title_default' | skyResources}}\n</ng-template>\n<ng-template #defaultItemTemplate let-item=\"item\">\n  {{ item?.id }}\n</ng-template>\n<ng-template #defaultMatchTemplateContent let-match=\"match\">\n  {{ match?.item?.id}}\n</ng-template>\n<ng-template #defaultNoMatchTemplateContent let-match=\"match\">\n    {{'link_records_item_content_no_match' | skyResources}}\n</ng-template>\n`,\n    styles: [`.sky-btn {\n  background-color: transparent;\n  border-top: 1px solid #cdcfd2;\n  border-bottom: 1px solid #cdcfd2;\n  border-left: 1px solid #cdcfd2;\n  border-right: 1px solid #cdcfd2;\n  border-radius: 3px;\n  color: #282b31;\n  cursor: pointer;\n  display: inline-block;\n  white-space: nowrap;\n  padding: 6px 12px;\n  line-height: 1.42857;\n  font-size: 15px;\n}\n\n.sky-btn:hover {\n  border-top: 1px solid #e2e3e4;\n  border-bottom: 1px solid #e2e3e4;\n  border-left: 1px solid #e2e3e4;\n  border-right: 1px solid #e2e3e4;\n  color: #282b31;\n}\n\n.sky-btn.sky-btn-disabled, .sky-btn[disabled] {\n  cursor: not-allowed;\n  pointer-events: none;\n  opacity: .65;\n  box-shadow: none;\n}\n\n.sky-btn-default {\n  color: #282b31;\n  background-color: #ffffff;\n  border-color: #cdcfd2;\n}\n\n.sky-btn-default:hover, .sky-btn-default:active, .sky-btn-default.sky-btn-active {\n  color: #282b31;\n  background-color: #eeeeef;\n  border-color: #b2b5ba;\n}\n\n.sky-btn-default:active, .sky-btn-default.sky-btn-active {\n  background-image: none;\n}\n\n.sky-btn-default.sky-btn-disabled, .sky-btn-default.sky-btn-disabled:hover, .sky-btn-default.sky-btn-disabled:focus, .sky-btn-default.sky-btn-disabled.sky-btn-focus, .sky-btn-default.sky-btn-disabled:active, .sky-btn-default.sky-btn-disabled.sky-btn-active, .sky-btn-default[disabled], .sky-btn-default[disabled]:hover, .sky-btn-default[disabled]:focus, .sky-btn-default[disabled].sky-btn-focus, .sky-btn-default[disabled]:active, .sky-btn-default[disabled].sky-btn-active,\nfieldset[disabled] .sky-btn-default,\nfieldset[disabled] .sky-btn-default:hover,\nfieldset[disabled] .sky-btn-default:focus,\nfieldset[disabled] .sky-btn-default.sky-btn-focus,\nfieldset[disabled] .sky-btn-default:active,\nfieldset[disabled] .sky-btn-default.sky-btn-active {\n  background-color: #ffffff;\n  border-color: #cdcfd2;\n}\n\n.sky-btn-primary {\n  color: #ffffff;\n  background-color: #007ca6;\n  border-color: #007ca6;\n}\n\n.sky-btn-primary:hover, .sky-btn-primary:active, .sky-btn-primary.sky-btn-active {\n  color: #ffffff;\n  background-color: #005673;\n  border-color: #005673;\n}\n\n.sky-btn-primary:active, .sky-btn-primary.sky-btn-active {\n  background-image: none;\n}\n\n.sky-btn-primary.sky-btn-disabled, .sky-btn-primary.sky-btn-disabled:hover, .sky-btn-primary.sky-btn-disabled:focus, .sky-btn-primary.sky-btn-disabled.sky-btn-focus, .sky-btn-primary.sky-btn-disabled:active, .sky-btn-primary.sky-btn-disabled.sky-btn-active, .sky-btn-primary[disabled], .sky-btn-primary[disabled]:hover, .sky-btn-primary[disabled]:focus, .sky-btn-primary[disabled].sky-btn-focus, .sky-btn-primary[disabled]:active, .sky-btn-primary[disabled].sky-btn-active,\nfieldset[disabled] .sky-btn-primary,\nfieldset[disabled] .sky-btn-primary:hover,\nfieldset[disabled] .sky-btn-primary:focus,\nfieldset[disabled] .sky-btn-primary.sky-btn-focus,\nfieldset[disabled] .sky-btn-primary:active,\nfieldset[disabled] .sky-btn-primary.sky-btn-active {\n  background-color: #007ca6;\n  border-color: #007ca6;\n}\n\n.sky-btn-link, .sky-btn-link-inline {\n  color: #007ca6;\n  background-color: transparent;\n  border-color: transparent;\n}\n\n.sky-btn-link:hover, .sky-btn-link-inline:hover {\n  color: #005673;\n  background-color: transparent;\n  border-color: transparent;\n  text-decoration: underline;\n  outline: none;\n}\n\n.sky-btn-link-inline {\n  font-size: inherit;\n  line-height: inherit;\n  display: inline;\n  padding: 0;\n  border: none;\n  vertical-align: top;\n}\n\n.sky-btn-link-inline:hover {\n  border: none;\n}\n\n.sky-btn-sm {\n  padding: 5px 10px;\n  font-size: 12px;\n  line-height: 1.5;\n}\n\n.sky-btn.sky-btn-active {\n  outline: 0;\n  box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);\n}\n\n.sky-btn-tab {\n  background-color: transparent;\n  border: none;\n  border-radius: 4px 4px 0 0;\n  color: #686c73;\n  cursor: pointer;\n  display: inline-block;\n  font-weight: 600;\n  line-height: 1.8;\n  padding: 8px 16px;\n}\n\n.sky-btn-tab:hover {\n  background-color: #eeeeef;\n  color: #282b31;\n  text-decoration: none;\n}\n\n.sky-btn-tab-close {\n  background-color: transparent;\n  border: none;\n  color: #686c73;\n  cursor: pointer;\n  line-height: 1.4;\n  margin-left: 5px;\n}\n\n.sky-btn-tab-close:hover {\n  color: #282b31;\n  transition: color 150ms;\n}\n\n.sky-tab-header-count {\n  font-weight: 400;\n  color: #007ca6;\n  margin-left: 5px;\n}\n\n.sky-btn-tab-selected {\n  background-color: #007ca6;\n  color: #fff;\n}\n\n.sky-btn-tab-selected:hover {\n  background-color: #007ca6;\n  color: #fff;\n}\n\n.sky-btn-tab-selected .sky-btn-tab-close, .sky-btn-tab-selected .sky-tab-header-count {\n  color: #fff;\n}\n\n.sky-btn-tab-wizard {\n  background-color: #ffffff;\n  border-top: 1px solid #e2e3e4;\n  border-bottom: 1px solid #e2e3e4;\n  border-left: 1px solid #e2e3e4;\n  border-right: 1px solid #e2e3e4;\n  border-radius: 3px;\n  font-weight: 400;\n  color: #282b31;\n  line-height: 1.6em;\n  margin-right: 5px;\n  padding-bottom: 5px;\n  padding-top: 5px;\n}\n\n.sky-btn-tab-wizard:hover, .sky-btn-tab-wizard:focus {\n  text-decoration: none;\n  color: #282b31;\n  background-color: #eeeeef;\n}\n\n.sky-btn-tab-wizard.sky-btn-tab-selected {\n  background-color: #81d4f7;\n  border-color: #81d4f7;\n  color: #282b31;\n}\n\n.sky-btn-tab-wizard.sky-btn-tab-disabled {\n  cursor: not-allowed;\n  pointer-events: none;\n  background-color: #eeeeef;\n  color: #686c73;\n  box-shadow: none;\n}\n\n:host {\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 710px;\n}\n\n:host .link-records-item-info {\n  font-family: \"Blackbaud Sans\", \"Helvetica Neue\", Arial, sans-serif;\n  color: #282b31;\n  font-weight: 600;\n  font-size: 16px;\n  text-align: center;\n}\n\n:host .link-records-item {\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n  justify-content: center;\n  margin: 10px 0 40px;\n}\n\n:host .link-records-item-original,\n:host .link-records-item-match {\n  border-top: 1px solid #e2e3e4;\n  border-bottom: 1px solid #e2e3e4;\n  border-right: 1px solid #e2e3e4;\n  border-left: 1px solid #e2e3e4;\n  background-color: #ffffff;\n  display: flex;\n  flex-direction: column;\n  min-height: 200px;\n  width: 350px;\n}\n\n:host .link-records-item-original .link-records-item-content,\n:host .link-records-item-match .link-records-item-content {\n  flex-grow: 1;\n  padding: 10px 20px 10px 25px;\n  word-break: break-all;\n}\n\n:host .link-records-item-original .link-records-item-header,\n:host .link-records-item-original .link-records-item-footer,\n:host .link-records-item-match .link-records-item-header,\n:host .link-records-item-match .link-records-item-footer {\n  display: flex;\n  flex-direction: row;\n  min-height: 48px;\n}\n\n:host .link-records-item-original .link-records-item-header,\n:host .link-records-item-match .link-records-item-header {\n  border-bottom: 1px solid #e2e3e4;\n  font-family: \"Blackbaud Sans\", \"Helvetica Neue\", Arial, sans-serif;\n  color: #686c73;\n  font-weight: 300;\n  font-size: 19px;\n  padding: 10px;\n}\n\n:host .link-records-item-original .link-records-item-footer,\n:host .link-records-item-match .link-records-item-footer {\n  border-top: 1px solid #e2e3e4;\n  padding: 7px 10px;\n}\n\n:host .link-records-item-original .link-records-item-footer button.sky-btn:not(:first-child),\n:host .link-records-item-match .link-records-item-footer button.sky-btn:not(:first-child) {\n  margin-left: 10px;\n}\n\n:host .link-records-item-original .link-records-item-footer button.sky-btn.sky-btn-link, :host .link-records-item-original .link-records-item-footer button.sky-btn.sky-btn-link-inline,\n:host .link-records-item-match .link-records-item-footer button.sky-btn.sky-btn-link,\n:host .link-records-item-match .link-records-item-footer button.sky-btn.sky-btn-link-inline {\n  margin-left: 0;\n}\n\n:host .link-records-item-original .link-records-item-footer button.sky-btn.sky-btn-link:first-child, :host .link-records-item-original .link-records-item-footer button.sky-btn.sky-btn-link-inline:first-child,\n:host .link-records-item-match .link-records-item-footer button.sky-btn.sky-btn-link:first-child,\n:host .link-records-item-match .link-records-item-footer button.sky-btn.sky-btn-link-inline:first-child {\n  margin-left: -10px;\n}\n\n:host .link-records-item-status {\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  flex-direction: row;\n}\n\n:host .link-records-item-status-content {\n  border-top: 1px solid #e2e3e4;\n  border-bottom: 1px solid #e2e3e4;\n  border-right: 1px solid #e2e3e4;\n  border-left: 1px solid #e2e3e4;\n  background-color: #ffffff;\n  border-radius: 22px;\n  height: 45px;\n  margin: -18px;\n  text-align: center;\n  width: 45px;\n  z-index: 1;\n}\n\n:host .link-records-item-status-content i {\n  color: #71bf43;\n  font-size: 29px;\n  margin: 7px 0 0;\n}\n\n:host .link-records-item-status-content i.fa-question-circle, :host .link-records-item-status-content i.fa-pencil {\n  color: #fbb034;\n}\n\n@media (max-width: 768px) {\n  :host {\n    width: 350px;\n  }\n  :host .link-records-item {\n    flex-direction: column;\n  }\n}\n`],\n    changeDetection: ChangeDetectionStrategy.OnPush\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: SkyLinkRecordsState, },\n{type: SkyLinkRecordsStateDispatcher, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'record': [{ type: Input },],\n'itemTemplate': [{ type: Input },],\n'matchTemplate': [{ type: Input },],\n'noMatchTemplate': [{ type: Input },],\n'itemTitleTemplate': [{ type: Input },],\n'selectedByDefault': [{ type: Input },],\n'showNewFieldValues': [{ type: Input },],\n'viewItems': [{ type: ViewChildren, args: [SkyLinkRecordsItemDiffComponent, ] },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}
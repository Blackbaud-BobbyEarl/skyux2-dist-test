{"version":3,"sources":["../../../.srctemp/demos/filter/filter-demo.component.ts"],"names":[],"mappings":"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","file":"filter-demo.component.js","sourceRoot":"","sourcesContent":["import { Component } from '@angular/core';\n\nimport {\n  SkyModalService,\n  SkyModalCloseArgs\n} from '../../core';\n\nimport { SkyFilterDemoModalComponent } from './filter-demo-modal.component';\nimport { SkyFilterDemoModalContext } from './filter-demo-modal-context';\n\n\nexport class SkyFilterDemoComponent {\n  public appliedFilters: any[] = [];\n  public items: any[] = [\n    {\n      name: 'Orange',\n      description: 'A round, orange fruit.',\n      type: 'citrus',\n      color: 'orange'\n    },\n    {\n      name: 'Mango',\n      description: 'Delicious in smoothies, but don\\'t eat the skin.',\n      type: 'other',\n      color: 'orange'\n    },\n    {\n      name: 'Lime',\n      description: 'A sour, green fruit used in many drinks.',\n      type: 'citrus',\n      color: 'green'\n    },\n    {\n      name: 'Strawberry',\n      description: 'A red fruit that goes well with shortcake.',\n      type: 'berry',\n      color: 'red'\n    },\n    {\n      name: 'Blueberry',\n      description: 'A small, blue fruit often found in muffins.',\n      type: 'berry',\n      color: 'blue'\n    }\n\n  ];\n\n  public filteredItems: any[];\n\n  constructor(private modal: SkyModalService) {\n    this.filteredItems = this.items.slice();\n  }\n\n  public filterButtonClicked() {\n    let modalInstance = this.modal.open(\n      SkyFilterDemoModalComponent,\n      [{\n        provide: SkyFilterDemoModalContext,\n        useValue: {\n          appliedFilters: this.appliedFilters\n        }\n      }]\n    );\n\n    modalInstance.closed.subscribe((result: SkyModalCloseArgs) => {\n      if (result.reason === 'save') {\n        this.appliedFilters = result.data.slice();\n        this.filteredItems = this.filterItems(this.items, this.appliedFilters);\n      }\n    });\n  }\n\n  public onDismiss(index: number) {\n    this.appliedFilters.splice(index, 1);\n    this.filteredItems = this.filterItems(this.items, this.appliedFilters);\n  }\n\n  private orangeFilterFailed(filter: any, item: any) {\n    return filter.name === 'hideOrange' && filter.value && item.color === 'orange';\n  }\n\n  private fruitTypeFilterFailed(filter: any, item: any) {\n    return filter.name === 'fruitType' && filter.value !== 'any' && filter.value !== item.type;\n  }\n\n  private itemIsShown(filters: any[], item: any[]) {\n    let passesFilter = true,\n        j: number;\n\n    for (j = 0; j < filters.length; j++) {\n      if (this.orangeFilterFailed(filters[j], item)) {\n        passesFilter = false;\n      } else if (this.fruitTypeFilterFailed(filters[j], item)) {\n        passesFilter = false;\n      }\n    }\n\n    return passesFilter;\n  }\n\n  private filterItems(items: any[], filters: any[]) {\n    let i: number,\n      passesFilter: boolean,\n      result: any[] = [];\n\n    for (i = 0; i < items.length; i++) {\n      passesFilter = this.itemIsShown(filters, items[i]);\n      if (passesFilter) {\n        result.push(items[i]);\n      }\n    }\n\n    return result;\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'sky-filter-demo',\n  template: `<div>\n  <sky-toolbar>\n    <sky-toolbar-section>\n      <sky-toolbar-item>\n        <sky-filter-button\n          (filterButtonClick)=\"filterButtonClicked()\">\n        </sky-filter-button>\n      </sky-toolbar-item>\n    </sky-toolbar-section>\n    <sky-toolbar-section *ngIf=\"appliedFilters && appliedFilters.length > 0\">\n      <sky-filter-summary>\n        <sky-filter-summary-item\n          *ngFor=\"let item of appliedFilters; let i = index\"\n          (dismiss)=\"onDismiss(i)\"\n          (itemClick)=\"filterButtonClicked()\">\n          {{item.label}}\n        </sky-filter-summary-item>\n      </sky-filter-summary>\n    </sky-toolbar-section>\n  </sky-toolbar>\n  <sky-repeater expandMode=\"none\">\n    <sky-repeater-item *ngFor=\"let item of filteredItems\">\n      <sky-repeater-item-title>\n        {{item.name}}\n      </sky-repeater-item-title>\n      <sky-repeater-item-content>\n        <div>\n          {{item.description}}\n        </div>\n      </sky-repeater-item-content>\n    </sky-repeater-item>\n  </sky-repeater>\n\n</div>\n`\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: SkyModalService, },\n];\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}